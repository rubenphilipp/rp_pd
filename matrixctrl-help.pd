#N canvas 415 153 1241 812 12;
#X declare -lib pdlua;
#X obj 16 123 declare -lib pdlua;
#X text 11 5 [matrixctrl];
#X text 14 30 A GUI object \, written in pd-lua \, similar to MaxMSP's matrixctrl. This object is aimed at controlling [cyclone/matrix~] objects (or [else/mtx~].;
#X text 155 123 is required \, of course...;
#X obj 777 228 matrixctrl;
#X msg 51 333 mode \$1;
#X msg 34 299 1;
#X msg 94 299 s dial;
#X text 64 298 or:;
#X text 65 269 or:;
#X msg 34 270 0;
#X msg 95 270 s toggle;
#X msg 36 363 mode;
#X floatatom 36 504 9 0 0 0 - \$0-step-width - 0;
#X msg 36 531 step_width \$1;
#X msg 37 660 columns \$1;
#X msg 153 660 rows \$1;
#X floatatom 37 635 5 0 0 0 - \$0-columns - 0;
#X floatatom 153 635 5 0 0 0 - \$0-rows - 0;
#X msg 40 783 size \$1;
#X floatatom 40 758 5 0 0 0 - \$0-size - 0;
#X msg 502 279 1 3 \$1;
#X floatatom 502 253 5 0 0 0 - - - 0;
#X floatatom 501 363 5 0 0 0 - - - 0;
#X msg 501 389 set 1 3 \$1;
#X text 31 234 set mode...;
#X text 193 634 ROWS;
#X text 77 634 COLS;
#X obj 777 420 print 1st;
#X obj 930 421 print 2nd;
#X msg 88 953 range \$1 \$2;
#X floatatom 88 894 5 0 0 0 - \$0-range-min - 0;
#X floatatom 188 894 5 0 0 0 - \$0-range-max - 0;
#X text 38 893 min:;
#X text 149 893 max:;
#X text 38 867 Set value range:;
#X text 36 985 NOTE: This also clips existing values to the new bounds (without output);
#N canvas 388 242 576 666 colors 0;
#X obj 36 594 outlet;
#X msg 37 190 color_on \$1 \$2 \$3;
#X floatatom 66 132 5 0 255 0 - \$0-color-on-r - 0;
#X floatatom 144 132 5 0 255 0 - \$0-color-on-g - 0;
#X floatatom 223 132 5 0 255 0 - \$0-color-on-b - 0;
#N canvas 359 213 565 313 init 0;
#X obj 18 75 symbol \$0-;
#X obj 18 42 loadbang;
#X obj 92 42 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 18 121 \; \$1color-on-r 0 \; \$1color-on-g 0 \; \$1color-on-b 0;
#X msg 165 123 \; \$1color-off-r 255 \; \$1color-off-g 255 \; \$1color-off-b 255;
#X msg 333 124 \; \$1color-bg-r 255 \; \$1color-bg-g 255 \; \$1color-bg-b 255;
#X obj 91 5 inlet;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 6 0 2 0;
#X restore 426 42 pd init;
#X floatatom 66 288 5 0 255 0 - \$0-color-off-r - 0;
#X floatatom 144 288 5 0 255 0 - \$0-color-off-g - 0;
#X floatatom 223 288 5 0 255 0 - \$0-color-off-b - 0;
#X msg 36 346 color_off \$1 \$2 \$3;
#X obj 37 163 cyclone/pak 0 0 0;
#X obj 36 319 cyclone/pak 255 255 255;
#X text 37 131 R:;
#X text 113 131 G:;
#X text 192 131 B:;
#X text 36 287 R:;
#X text 122 287 G:;
#X text 198 287 B:;
#X text 32 17 Set the dial colors (as a list of RGB values):;
#X text 25 98 State ON:;
#X text 35 252 State OFF:;
#X floatatom 66 431 5 0 255 0 - \$0-color-bg-r - 0;
#X floatatom 144 431 5 0 255 0 - \$0-color-bg-g - 0;
#X floatatom 223 431 5 0 255 0 - \$0-color-bg-b - 0;
#X obj 36 462 cyclone/pak 255 255 255;
#X text 36 430 R:;
#X text 122 430 G:;
#X text 198 430 B:;
#X text 35 395 Background Color:;
#X msg 36 489 color_bg \$1 \$2 \$3;
#X obj 426 14 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 10 1;
#X connect 4 0 10 2;
#X connect 6 0 11 0;
#X connect 7 0 11 1;
#X connect 8 0 11 2;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X connect 11 0 9 0;
#X connect 21 0 24 0;
#X connect 22 0 24 1;
#X connect 23 0 24 2;
#X connect 24 0 29 0;
#X connect 29 0 0 0;
#X connect 30 0 5 0;
#X restore 92 1112 pd colors;
#X obj 88 923 cyclone/pak 0 1;
#N canvas 1208 124 329 303 init 0;
#X obj 18 95 symbol \$0-;
#X msg 18 163 \; \$1range-min 0 \; \$1range-max 1;
#X obj 18 62 loadbang;
#X obj 92 62 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 92 14 inlet;
#X msg 155 166 \; \$1step-width 0.0004 \; \$1columns 8 \; \$1rows 8 \; \$1size 1;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X restore 424 34 pd init;
#X obj 424 9 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 31 454 adjust the step width for mouse movements (in dial mode)...;
#X text 34 602 change matrix/table rows and columns...;
#X text 37 736 change the size scale of the matrix...;
#X obj 777 193 r \$0-matrixctrl;
#X obj 92 1143 s \$0-matrixctrl;
#X obj 36 402 s \$0-matrixctrl;
#X obj 36 559 s \$0-matrixctrl;
#X obj 37 690 s \$0-matrixctrl;
#X obj 40 809 s \$0-matrixctrl;
#X obj 86 1039 s \$0-matrixctrl;
#X text 29 1089 Some notes on changing the colors:;
#X text 77 361 [mode] without args returns the current mode (2nd outlet);
#X text 498 342 set value without output:;
#X text 498 230 set value with output:;
#X text 17 193 SETTINGS:;
#X text 492 193 USAGE:;
#X text 165 269 (default);
#X obj 502 306 s \$0-matrixctrl;
#X obj 501 416 s \$0-matrixctrl;
#X msg 579 279 2 2 0;
#X msg 593 389 set 2 2 1;
#X msg 503 479 clear;
#X obj 503 514 s \$0-matrixctrl;
#X msg 567 479 flush;
#X text 614 478 or:;
#X obj 647 479 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 502 622 s \$0-matrixctrl;
#X msg 502 586 getrow 2;
#X msg 584 586 getcolumn 3;
#X msg 691 479 get 2 2;
#X text 503 456 With output to 1st outlet:;
#X text 502 562 With output to 2nd outlet:;
#X msg 689 586 export;
#X text 746 585 exports the data as an array.;
#X obj 501 712 s \$0-matrixctrl;
#X text 737 685 imports data to the table from an array. NB: - This does not clear the table before importing but overrides all first n values. - The values will be clipped to the min/max when they (positively or negatively) exceed the range.;
#X msg 501 688 import 0 1 0 1 0 0 1 1 1 0 1;
#X connect 4 0 28 0;
#X connect 4 1 29 0;
#X connect 5 0 46 0;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 10 0 5 0;
#X connect 11 0 5 0;
#X connect 12 0 46 0;
#X connect 13 0 14 0;
#X connect 14 0 47 0;
#X connect 15 0 48 0;
#X connect 16 0 48 0;
#X connect 17 0 15 0;
#X connect 18 0 16 0;
#X connect 19 0 49 0;
#X connect 20 0 19 0;
#X connect 21 0 58 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 59 0;
#X connect 30 0 50 0;
#X connect 31 0 38 0;
#X connect 32 0 38 1;
#X connect 37 0 45 0;
#X connect 38 0 30 0;
#X connect 40 0 39 0;
#X connect 44 0 4 0;
#X connect 60 0 58 0;
#X connect 61 0 59 0;
#X connect 62 0 63 0;
#X connect 64 0 63 0;
#X connect 66 0 63 0;
#X connect 68 0 67 0;
#X connect 69 0 67 0;
#X connect 70 0 63 0;
#X connect 73 0 67 0;
#X connect 77 0 75 0;
